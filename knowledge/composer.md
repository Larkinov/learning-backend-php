# Composer

## Установка
[Официальная документация + установка](https://getcomposer.org/)


## Теория
### Имя пакета
```bash
vendor/name
```
где, vendor - [кампания/организация/фамилия], name - [название приложения/библиотеки/пакета]

### Файлы composer
composer.json - это файл с зависимостями для «разработчика»  
composer.lock - это файл с зависимостями для «composer» - здесь зависимости описаны более подробно  
composer.lock - при разработке проекта добавляется в репозиторий, при разработке библиотеки нет. Дело в том, что для проекта нужны жесткие привязки, для библиотеки нет  

### Версионирование
на примере - v.2.7.12:  
2 - Major - версии не совместимы  
7 - Minor - появился новый функционал, но версии совместимы  
12- Patch - небольшой патч  
 

## Основные команды
Инициализация composer проекта/пакета и т.д.
```bash
composer init
```
Добавить требуемый пакет в файл composer.json и установить его в проект. Команда изменяет composer.json, находящийся в текущей папке. Если пакету требуются зависимости, то они будут установлены или обновлены. А также будет обновлён composer.lock.
```bash
composer require vendor/package
```
Установить пакет только в среду разработки (не продакшен и т.д.)
```bash
composer require --dev vendor/package
```
Устанавливает необходимые для проекта зависимости
```bash 
composer install
```
Устанавливает необходимые для проекта зависимости в продакшен среду
```bash 
composer install --no-dev
```
ОБНОВЛЯЕТ ПАКЕТЫ - ОПАСНАЯ КОМАНДА, предварительно выполнить в тестовом окружении и проверить, что ничего не упало
```bash 
composer update
```
Обновить автозагрузчик (например, после добавление своего автозагрузчика);
```bash 
composer dump-autoload
```